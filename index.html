<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">




  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="产品, 浩然 " />










<meta name="description" content="一生只有一个职业--学生">
<meta property="og:type" content="website">
<meta property="og:title" content="Everyblue">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Everyblue">
<meta property="og:description" content="一生只有一个职业--学生">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Everyblue">
<meta name="twitter:description" content="一生只有一个职业--学生">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Everyblue</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?fdbd2a45298926f436edf3a2aedbf21f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Everyblue</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">有趣的人终究会相遇，中间总是千丝万缕</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于我
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            日期归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/c98df899.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/c98df899.html" itemprop="url">【日卡&月卡 还是买断制】浅析微信读书和网易蜗牛读书的购书模式</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-16T00:00:00+08:00">
                2017-12-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/产品-策略/" itemprop="url" rel="index">
                    <span itemprop="name">产品 - 策略</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/c98df899.html" class="leancloud_visitors" data-flag-title="【日卡&月卡 还是买断制】浅析微信读书和网易蜗牛读书的购书模式">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>小时候家里开过几年书店，老爹特喜欢武侠，所以书店兼营武侠书出租，租书按天计费。后来我念高中，学校附近有一家大型书店，卖书基本按定价，但是看书免费，开开心心蹭了一年书以后，老板学聪明了。看书依然免费，当然，不过我发现小说、散文之类的书都不拆胶纸，期刊杂志也全搬到前台附近了。</p>
<p>一开始就讲这种屁故事，先别慌骂，一会儿再回头看这个故事。从传统的积累下的优秀的商业模式里面发现和学习产品策略。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>本文讨论的是<strong>微信读书和网易蜗牛读书两款较有代表性的阅读APP的购书模式的设计策略。</strong></p>
<p><img src="https://ww4.sinaimg.cn/large/006tNc79gy1fmi1xh5q1kj31460pcjux.jpg" alt=""></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/archives/c98df899.html#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/25b196e8.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/25b196e8.html" itemprop="url">走近数据埋点</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-06T00:00:00+08:00">
                2017-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/产品-数据埋点/" itemprop="url" rel="index">
                    <span itemprop="name">产品 - 数据埋点</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/25b196e8.html" class="leancloud_visitors" data-flag-title="走近数据埋点">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文对象：产品组同学、产品运营同学</p>
</blockquote>
<p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1flb8p0c4ulj30rq0smq5x.jpg" alt=""></p>
<h2 id="为什么要做数据埋点？"><a href="#为什么要做数据埋点？" class="headerlink" title="为什么要做数据埋点？"></a>为什么要做数据埋点？</h2><p><img src="https://ww3.sinaimg.cn/large/006tKfTcgy1flb603rpvuj31du0sokjl.jpg" alt=""></p>
<p>这是我夏令营的时候在团队的一页分享PPT。</p>
<p>当你难以判断的时候，数据或许是最真实的。</p>
<p>判断是主观面向客观的，人的判断 = 经验 + 思维模式，即个体思维模式作用于个体经验上的结果，经验在可以看做大脑存储的数据。数据是客观世界最真实的反映，我们可以从数据中挖掘分析出事物真实的属性，从而做出更科学的决策。</p>
<p>而数据埋点通常是一个与之相反的过程，从目的出发，知道自己为什么需要埋点一项数据，想要通过这项数据知道产品的运营情况，看到什么问题，对可能面对的情况能做出什么可行的调整。比如：为了评估产品改版后的效果比之前有所提升;或通过数据分析，找到产品迭代的方向等。</p>
<h2 id="数据埋点埋什么？"><a href="#数据埋点埋什么？" class="headerlink" title="数据埋点埋什么？"></a>数据埋点埋什么？</h2><p>###基础名词</p>
<h5 id="运营指标"><a href="#运营指标" class="headerlink" title="运营指标"></a>运营指标</h5><ul>
<li>PV（page view）：访问页面产生的数据。 一个用户访问了5个页面，那么就产生了5个 PV。</li>
<li>UV（user view）：某个特定页面的访客数。一个页面一个账号无论点进去几次，UV都是1，因为只有一个访客。</li>
<li>DAU(daily active user)： 日活跃用户量。</li>
<li>MAU(monthly active user)： 月活跃用户量。</li>
</ul>
<h5 id="产品指标"><a href="#产品指标" class="headerlink" title="产品指标"></a>产品指标</h5><ul>
<li>跳出率：页面停留访客有300人，但是有150人不喜欢这个页面，选择离开，那么跳出率就是50%（=150/300）</li>
<li>二跳率：首页页面停留访客有300人，有150人觉得这个网站很喜欢，于是点击浏览下一个页面，那么二跳率就是50%（=150/300）。以此类推还有三跳率，四跳率等等。</li>
<li>转化率：转化到最终产品目的页面的比率。比如我们前面的音乐节H5，终极目的就是为了促进其预定音乐节直播。预定量/首页UV。</li>
<li>访问深度：将用户在一次启动应用过程中所到达的页面累计数量视为用户的访问深度， 例如某用户从启动 APP 到退出应用过程中，一共访问了 12 个页面，那么称该用 户的访问深度为 12。理论上来讲，访问深度越高，应用质量越好，用户对应用 的依赖就越强。</li>
</ul>
<blockquote>
<p>这里只列举少量的，光是CNZZ提供的就很多了。具体的垂直到具体产品，有具体的埋点要求。记住埋点的核心，就是辅助决策。</p>
</blockquote>
<p>下面列举几个：</p>
<ul>
<li>内容型行业：关注PV,UV,V V，帖子数，页面停留时间，分享数等等</li>
<li>社交类行业：关注发帖量，发言数，PV,UV，活跃占比等等</li>
<li>电商类行业：关注销售收入，成单量，客单价等等</li>
<li>游戏类行业：关注活跃用户量，付费率，收入，ARPU（每用户平均收入）等等</li>
</ul>
<h2 id="用什么做数据埋点？"><a href="#用什么做数据埋点？" class="headerlink" title="用什么做数据埋点？"></a>用什么做数据埋点？</h2><h3 id="埋点方式"><a href="#埋点方式" class="headerlink" title="埋点方式"></a>埋点方式</h3><ul>
<li><p>自己开发。开发时加入统计代码，并搭建自己的数据查询系统。这种很麻烦，代价很大。（华中大在线就用这种方式）</p>
</li>
<li><p>集成第三方统计的SDK。</p>
<ul>
<li>网站分析工具：CNZZ、百度统计、Google Analytics</li>
<li>移动应用分析工具：Google Analytics、友盟、TalkingData</li>
<li>冰岩一般用CNZZ，我自己的博客用的百度统计，<strong>个人感觉</strong>百度统计好用</li>
</ul>
</li>
<li><p>无埋点。“无埋点”先尽可能收集所有控件的操作数据，即全埋点。</p>
<ul>
<li>无埋点对页面所有元素进行埋点，所以这个页面每个元素被点击的概率你也就知道，对点击概率比较大的元素可以进行深入分析。</li>
</ul>
</li>
</ul>
<p><img src="https://ww1.sinaimg.cn/large/006tKfTcgy1flb8j4gedaj31880oete2.jpg" alt=""></p>
<p><a href="http://www.pmcaff.com/article/index/793981390492800" target="_blank" rel="noopener">百度统计练手</a></p>
<h2 id="常见分析法"><a href="#常见分析法" class="headerlink" title="常见分析法"></a>常见分析法</h2><h3 id="漏斗分析法"><a href="#漏斗分析法" class="headerlink" title="漏斗分析法"></a>漏斗分析法</h3><p>用来分析从潜在用户到最终用户这个过程中用户数量的变化趋势，从而寻找到最佳的优化空间，这个方法被普遍用于产品各个关键流程的分析中。</p>
<p>这里以音乐节H5为例<br><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1flb800su3bj30o20ncdi4.jpg" alt=""></p>
<p>假设我从埋点数据发现，从加载到答题页的转化特别低，那么很有可能就是我的加载页存在问题，我要再对加载做出调整。是加载时间过长，还是加载动画无聊，还是加载页广告太多…..</p>
<p>又假设，从分享页到预定直播转化率特别低，那么是否是我的预定button位置不对，或者文案不够吸引人。</p>
<h3 id="AB测试"><a href="#AB测试" class="headerlink" title="AB测试"></a>AB测试</h3><p>当我不知道A方案好，还是B方案好的时候，我对于小部分用户投放两个版本，看那个版本的效果更好，这件事情在互联网界是可以被操作的。<br>比如我们除了两套文案，但是我们不知道哪个分享好，于是把两个版本分别投向用户，数据发现，A方案转化率比B方案要高5%，那么我是否可以认定A方案要优于B方案。</p>
<h3 id="AARRR模型"><a href="#AARRR模型" class="headerlink" title="AARRR模型"></a>AARRR模型</h3><p>自己去看了</p>
<h2 id="做好和开发的沟通"><a href="#做好和开发的沟通" class="headerlink" title="做好和开发的沟通"></a>做好和开发的沟通</h2><p>用第三方数据统计还好。如果是自己自定义代码埋点。你可能一句话的事情，但是程序员们就要很多大量的代码。而且做出来的东西是给产品和运营用的，这有时候会导致他们的抗拒心理（这个冰岩的程序小哥哥都还是很有产品感的，这个问题还好）。</p>
<p>产品一定要做好自己的工作，数据埋点一定要形成文档输出。越详细越好。</p>
<p>下面是我找的一份数据埋点的文档样例<br><img src="https://ww2.sinaimg.cn/large/006tKfTcgy1flb8at1w2nj31kw0b978u.jpg" alt=""></p>
<h4 id="over"><a href="#over" class="headerlink" title="over"></a>over</h4><blockquote>
<p>参考文档：<br><a href="http://www.woshipm.com/data-analysis/629017.html" target="_blank" rel="noopener">http://www.woshipm.com/data-analysis/629017.html</a><br><a href="http://www.pmcaff.com/discuss/index/676472623086656?from=search" target="_blank" rel="noopener">http://www.pmcaff.com/discuss/index/676472623086656?from=search</a></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/cb13dde4.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/cb13dde4.html" itemprop="url">七绝·夏月夜赠田郎</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-17T00:00:00+08:00">
                2017-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/诗词-绝句/" itemprop="url" rel="index">
                    <span itemprop="name">诗词 - 绝句</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/cb13dde4.html" class="leancloud_visitors" data-flag-title="七绝·夏月夜赠田郎">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="余篇"><a href="#余篇" class="headerlink" title="余篇"></a>余篇</h2><p>明月清风，逢田郎赠香炉于远途。焚香清欲，啜饮青茗。春之蕴于香涩，人生总得数味。茶以新贵，然知交以经年为稀。盖余一生之所向唯一店数人一茶一酒耳。日光西山，腐草萤火。花酒乡友，击碗长吟，不亦乐乎</p>
<p><img src="https://ww1.sinaimg.cn/large/006tNbRwly1ffomjpagkmj30zk0qodi4.jpg" alt=""></p>
<p>十五走马弄诗成，<br>不解离愁总销魂。<br>老酒三杯徒添忆，<br>新茶一盏洗风尘。</p>
<h2 id="答篇"><a href="#答篇" class="headerlink" title="答篇"></a>答篇</h2><p><img src="https://ww3.sinaimg.cn/large/006tNbRwgy1ffomllsbcsj30ci0m8t9v.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/c69ce08.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/c69ce08.html" itemprop="url">微信红包算法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-03T00:00:00+08:00">
                2017-02-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/产品-算法/" itemprop="url" rel="index">
                    <span itemprop="name">产品 - 算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/c69ce08.html" class="leancloud_visitors" data-flag-title="微信红包算法">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="大家疑问的三个问题"><a href="#大家疑问的三个问题" class="headerlink" title="大家疑问的三个问题"></a>大家疑问的三个问题</h2><h3 id="每个红包能分到多少钱的期望是不是一样的？"><a href="#每个红包能分到多少钱的期望是不是一样的？" class="headerlink" title="每个红包能分到多少钱的期望是不是一样的？"></a>每个红包能分到多少钱的期望是不是一样的？</h3><p>答：是，在大量相同的红包实验后，每个红包的金额趋近于（金额/红包个数）。</p>
<h3 id="既然单个红包的期望是一样的，那么先抢后抢是不是没区别？"><a href="#既然单个红包的期望是一样的，那么先抢后抢是不是没区别？" class="headerlink" title="既然单个红包的期望是一样的，那么先抢后抢是不是没区别？"></a>既然单个红包的期望是一样的，那么先抢后抢是不是没区别？</h3><p>答：有区别，微信采用的是一种简单拍脑袋算法，虽然先后的红包金额的期望是一样的，但是后抢红包金额的方差更大，也就是说后抢更容易拿到手气最佳，也更容易手气最背。</p>
<h3 id="为什么明明抢到红包点开却发现没有？"><a href="#为什么明明抢到红包点开却发现没有？" class="headerlink" title="为什么明明抢到红包点开却发现没有？"></a>为什么明明抢到红包点开却发现没有？</h3><p>答：实时性，在2015年后，微信将红包实施了抢和拆分离，需要点两次，进入到第一个页面只代表你点第一下的当时红包还有，若是点第二次的手速慢一下，很可能会被告知红包已抢完。<br>说一般性的结论。<br>越晚抽越容易获得手气最佳。风险规避者更适合先抢，而风险偏爱者应该尽量往后抽，因为越往后金额标准差越大，后抽者可能抽到先抽取者不可能抽到的大红包，但抽到小红包的概率也会相应增大。</p>
<h2 id="算法简析"><a href="#算法简析" class="headerlink" title="算法简析"></a>算法简析</h2><p><img src="https://ww2.sinaimg.cn/large/006tNbRwly1fdi8o5vk61j30hs0d3q3q.jpg" alt=""></p>
<p>以上是支付陈鹏先生提供的代码，仅供参考</p>
<p>大致可以这样理解</p>
<p>假设有100元钱，分给十个人。那么第一个人获得红包大小怎么计算呢？100/10 = 10元。这是期望值。从0.01到20的区间中（其中20=10乘以2）随机抽取一个数，就是第一个人获得红包的大小。假设第一个人获得了15元，那么剩下的85元平均分给9个人，这九个人平均获得红包大小为9.4元，那么第二个人的红包大小均匀分布于0.01元到18.80元的区间中，依次类推。算法保证最后一个人至少抽到0.01元。</p>
<p>在这里，小坊发现一个有趣的现象，即你用 N 分钱发（Ｎ－１）个红包，只有最后一个抢到０．０２元，其他人都只是０．０１元，这是知乎其他用户提供的算法所达不到的，而陈鹏先生的算法极好符合这一现象，所以也从某一层面印证了陈鹏先生提供的算法。</p>
<h2 id="这种算法究竟好在哪里"><a href="#这种算法究竟好在哪里" class="headerlink" title="这种算法究竟好在哪里?"></a>这种算法究竟好在哪里?</h2><p>以下小坊从产品和成本两个方面说一些简单的看法。</p>
<h3 id="从用户的需求上讲，算法必须满足以下几个条件，"><a href="#从用户的需求上讲，算法必须满足以下几个条件，" class="headerlink" title="从用户的需求上讲，算法必须满足以下几个条件，"></a>从用户的需求上讲，算法必须满足以下几个条件，</h3><p>多数人的红包金额要在平均数附近浮动。<br>保证最少能0.01元，让用户不是白拆一趟。<br>一个人拿到极小数（0.01）的概率要远大于极大数（总额９０％以上）的概率。<br>前面的人不能一下把钱拿走很多。<br>以上提供的拍脑袋算法，就能实现当前人至多能拿走当前平均金额的两倍，即还是拿100元分10个红包来说，第一个人至多拿走（100/10）2，假设第一个人拿走20元，那么第二个人也可以至多拿走（80/9）2元，而不会出现第一个人人品好到一下子拿走99元，剩下9人分1元的恶劣情况。相反可能出现情况前面九人每人抢到一块，最后一人躺拿91元，还可以得瑟一番，多谢大家给我留的。</p>
<h3 id="从成本上看"><a href="#从成本上看" class="headerlink" title="从成本上看"></a>从成本上看</h3><p>红包金额是拆的时候即时算出来的，而不是预先算好分配好，等一个个领取。预算需要空间存储每个红包的金额和顺序（当然部分网友提供的算法是先把金额算好，领取不按顺序领取，再随机领取其中一个，这样成本就更高了）</p>
<p>这样的拍脑袋算法，所需存储的数据也就是剩下的金额和剩下的红包数量，一条数据就够了，万一红包没有领取完，直接就可以利用这个剩下的金额返回给发红包的人，而不像预先算好一般，再将剩下的红包金额相加。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/10c900a7.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/10c900a7.html" itemprop="url">微信企业号的一些思考</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-15T00:00:00+08:00">
                2016-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/产品-调研/" itemprop="url" rel="index">
                    <span itemprop="name">产品 - 调研</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/10c900a7.html" class="leancloud_visitors" data-flag-title="微信企业号的一些思考">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>有些尴尬，要为一款没有亲身体验过的产品表述自己的观点，好像本身就是一件荒谬的事。上网找了一番，有价值的信息并不多，无所知用户体验，只能从微信关于企业号的方向做一些思考了。</p>
<hr>
<h2 id="微信的平台战略"><a href="#微信的平台战略" class="headerlink" title="微信的平台战略"></a>微信的平台战略</h2><p>想了一下，还是从互联网+说起，蹭余温未过。“连接一切”和“互联网+”的概念是小马哥在13年前后提出来的，其实早在QQ时代小马哥就提出“让互联网像水、电一样融入生活”。可能我在这里说QQ时代，又要被一波QQ粉怒喷，但我们不得不承认的是微信的战略，从订阅号带起来的自媒体时代，到服务号、企业号，再到最新的微信小程序。微信无不诠释了自己的平台战略。</p>
<p>我们都能看到互联网一步一步冲击着传统行业，这让我们看到互联网行业的活跃性，但是就是这活跃性，让处于变革焦点的互联网行业充满了巨大的不确定性。马化腾本人就是进化论和失控理论的拥簇者。用小马哥自己的一句话来说：“微信如果不是出现在腾讯，在外面任何一家公司，我们都挡不住。”看似腾讯拥有着庞大的用户群体，掌握了最好的社交平台，但是也有着巨大的担忧。这种担忧让马化腾（这里说腾讯的决策者们更好），他们试图让腾讯成为一家边界模糊的生态组织，对内和对外双重延升。微信就是这个想法的执行者（其实我个人感觉微信在这里面更应该是这个想法的提出者）。很多老外把微信理解成一个超级APP，其实我觉得微信作为一个平台来理解更为合适。</p>
<p>刚刚说了<strong>腾讯试图打造边界模糊的生态组织</strong>，这当中其实有很多的困难，以当年3Q大战为例，腾讯最后赢了，但是舆论倾向一致不站在腾讯一边。腾讯是典型的互联网中国模式，或者产品模仿优化模式，充分利用好自己本身的用户入口，总能取得奇效，然而此举无疑也为之四面树敌。</p>
<p>（说个好玩的事，腾讯现在对媒体的控制已经达到了空前的高度，比起当年，好像百度更遭重，在web时代，搜索引擎是流量入口，但是自从智能手机的崛起，移动互联网时代迅速完成反超，前面我看到一组数据表，移动互联网优势明显，而百度作为一个以搜索引擎作为主干业务的公司，在移动互联网时代显得那么无力，百度糯米、手机百度这些尝试，收效也不好，BAT之中另外两间公司，腾讯和阿里则分别拿到社交和支付这两大重要板块，以此辐射打造自己的生态圈）</p>
<p>回到话题，四面树敌的腾讯要想打造柔性化的竞争环境，微信企业号就是一张重要的门票。企业级市场是一个蕴含巨大机遇的市场，但也是一个吃力不讨好的事情，腾讯此前做微生活、微信会员卡等几乎所有的企业级市场均没有获得太大的成功，那为什么还如此坚定地进入这个市场?全球科技行业的发展大局趋势，我们可以得出IT巨头发展的一个共同的规律：先从消费级市场起家，等市场饱和之后，最终转型企业级市场，不转型，被收购，或者被市场淘汰!</p>
<p>最简单说吧，微信做的是免费的企业服务级平台，当大小公司入驻，这个平台形成一定规模，便是一张挟天子以令诸侯的令牌。</p>
<hr>
<h2 id="企业号的优劣势"><a href="#企业号的优劣势" class="headerlink" title="企业号的优劣势"></a>企业号的优劣势</h2><ul>
<li><p><strong>企业号的轻量化</strong>，面对移动互联网时代，很多的公司的管理也从pc端向移动端靠拢，开发一款自己办公软件。这个带来两个问题，第一，<strong>企业的开发成本</strong>；第二，<strong>员工的使用成本</strong>。对于大多数的中小企业（不管互联网还是非互联网行业）是支付不起这样的开发成本的。前面我在做一个招新系统，光是产品形式和信息架构停停改改就做了两个星期，还未算上开发和设计成本，换算一下这些就是人民币。第二点，在移动端来说，员工为公司使用一款或者多款管理APP的成本本身就是很高的，内存空间的占用，还有打开一个APP的使用成本，这两个问题把绝大多数企业挡在了门外。<br>企业号完美解决了中小企业的这两个问题，首先，企业号有着微信原生的开发块，同时开放第三方开发平台，这里开发的成本很低。<br>企业号作为一个服务系统放在微信对话窗口，本身就是一个用户极好的入口，只要你打开微信，你就能看到企业号的消息推送，入口很浅，使用成本低，其实可以想你每天打开多少遍微信。另外企业号的UI设计和微信的相似度，也符合了用户的使用习惯。</p>
</li>
<li><p><strong>数据安全性</strong>，微信的数据安全性一直做得很好，但是这只是对外的。对腾讯内部而言，我们所有通过微信产生的数据都是要经过腾讯的服务器的，对个人用户而言，这个问题无关紧要，但是对企业就不一样了，只要腾讯想，使用企业号的公司对微信而言就脱光了一样，这个对于中大型企业来说是一件多么可怕的事情。所以对于有能力开发自己软件的大公司来说，企业号也就很鸡肋了。</p>
</li>
<li><p><strong>未成熟的企业号</strong>，写这样一个小标题，估计会被很多人嗤之以鼻。微信这么吊团队，怎么会放不成熟的产品到这么高的地位。<strong>“试错迭代策略”</strong>，与以标准化、精确化化的传统经济相比，互联网行业是对完美主义的叛逆。“小步、迭代、试错、快跑”是互联网公司取得成功的秘诀，而腾讯是其中之典范，哈哈，其实你看看微信1.0版本就知道了。所以我们不得不承认企业号不够成熟，在我问询了几个团队在腾讯的老人后，发现一个问题，腾讯自己人都不用企业号，原因么？解决不了需求，产品不够成熟，满足不了腾讯这种大公司的需求。其实这部分需求不是企业号要满足的，这里不作解释。</p>
</li>
<li><p><strong>关于企业号应用范围的总结</strong>，综上，<strong>微信企业号的市场在中小型企业。</strong>这是他本身产品性质决定的，企业号的市场在中小企业，所以企业号的可能也将围绕中小企业进行展开。</p>
</li>
</ul>
<h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><ul>
<li>更多的想法先体验一波再说吧。两千多字存手码，到饭点了。</li>
<li>交流邮箱：zhr@bingyan.net </li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/e39e44c.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/e39e44c.html" itemprop="url">浅析网易云音乐推荐算法</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-20T00:00:00+08:00">
                2016-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/产品-算法/" itemprop="url" rel="index">
                    <span itemprop="name">产品 - 算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/e39e44c.html" class="leancloud_visitors" data-flag-title="浅析网易云音乐推荐算法">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>记得在专业面的时候，问我说最喜欢的一款应用是什么？当时想都没想就回答了网易云音乐，说它的特点时候，说到了音乐评论和每日推荐的功能特色。好像是柳柳吧，问我这个推荐的算法模式是怎么样的，心慌慌的，想着以前看过的一套数据挖掘算法就急中生智糊弄过来了，核心就是基于一定数据量，以人为本的推荐，A喜欢《安河桥》《董小姐》《关于郑州的记忆》，B喜欢《安河桥》《关于郑州的记忆》，于是我们根据品味的相似性，推断B也有很大可能喜欢《董小姐》。大概就是这套算法，具体的实现好像是在《大话数据挖掘》这本书上，太久记不清了。</p>
<p>昨天半夜听歌听的睡不着，于是兴致突起，在网上找了很多这样的推荐算法看了一下，这里面的学问很深，虽收获颇丰却也只是了解了一隅之地。写下这篇文章，不能说写吧，更多是整理，也穿插了自己的一些想法，希望分享一下所得。</p>
<hr>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>   看看网易云音乐的评论区你就是知道这一定是一个讲情怀的产品了，不记得在哪一首歌的评论区看过这样一句话评论网易云音乐的推荐功能——不记得从什么开始，音乐从寻找变成了等待。</p>
<p>   最开始用过酷狗、然后转到QQ音乐，当我当我发现网易云音乐的时候便爱不释手。音质不算出众，爱的评论区和推荐功能，前者取决于产品的运营和用户的自发性，后者则是产品内部的算法强大和产品策略。</p>
<pre><code>* 网易云音乐关于个性化推荐这块在公司外部介绍的比较少，但应该推荐的算法和机制和大部分的音乐素材的公司做的类似。以item为核心的协同过滤（CF），通过打分机制来推荐最适合的歌曲。*
</code></pre><p><img src="C:\Users\张浩然\Desktop\3.png" alt="3.png"></p>
<p>这个是我今天的推荐，由于我平时听民谣比较多所以，推荐多以民谣为主。</p>
<hr>
<p><img src="D:\QQ\793867515\FileRecv\MobileFile\Image\$6RBE78ZV%FTW8GX2I8TIMI.png" alt="$6RBE78ZV%FTW8GX2I8TIMI.png"></p>
<p>我在昨晚收藏了一首火车上的熄灯曲《日冕之梦》，于是在今日的推荐歌单向我推荐了高中的熄灯曲《梦中的婚礼》还是推荐蛮准的。</p>
<p><img src="D:\QQ\793867515\FileRecv\MobileFile\Image\6`E__N}TT8@G@}P8C1I3SAW.png" alt="6`E__N}TT8@G@}P8C1I3SAW.png"></p>
<h5 id="算法部分："><a href="#算法部分：" class="headerlink" title="算法部分："></a>算法部分：</h5><p>第一类，以人为本，先找到与你相似的人，然后看看他们买了什么你没有买的东西。这类算法最经典的实现就是“多维空间中两个向量夹角的余弦公式”；<br>第二类, 以物为本直接建立各商品之间的相似度关系矩阵。这类算法中最经典是’斜率=1’ (Slope One)。amazon发明了暴力简化的第二类算法，‘买了这个商品的人，也买了xxx’。</p>
<p>1.相似人群的推荐</p>
<pre><code>引用：著作权归作者所有。作者：邰原朗
</code></pre><p>有3首歌放在那里，《最炫民族风》，《晴天》，《Hero》。<br>A君，收藏了《最炫民族风》，而遇到《晴天》，《Hero》则总是跳过；<br>B君，经常单曲循环《最炫民族风》，《晴天》会播放完，《Hero》则拉黑了<br>C君，拉黑了《最炫民族风》，而《晴天》《Hero》都收藏了。</p>
<p>我们都看出来了，A,B二位品味接近，C和他们很不一样。<br>那么问题来了，说A，B相似，到底有多相似，</p>
<p><strong> 如何量化？</strong></p>
<p>我们把三首歌想象成三维空间的三个维度，《最炫民族风》是x轴，《晴天》是y轴，《Hero》是z轴，对每首歌的喜欢程度即该维度上的坐标，<br>并且对喜欢程度做量化(比如： 单曲循环=5, 分享=4, 收藏=3, 主动播放=2 , 听完=1, 跳过=-1 , 拉黑=-5 )。<br>那么每个人的总体口味就是一个向量，A君是 (3,-1,-1)，B君是(5,1,-5)，C君是(-5,3,3)。 (抱歉我不会画立体图)<br>我们可以用向量夹角的余弦值来表示两个向量的相似程度， 0度角(表示两人完全一致)的余弦是1， 180%角(表示两人截然相反)的余弦是-1。</p>
<p>根据余弦公式, 夹角余弦 = 向量点积/ (向量长度的叉积) = ( x1x2 + y1y2 + z1z2) / ( 跟号(x1平方+y1平方+z1平方 ) x 跟号(x2平方+y2平方+z2平方 ) )<br>可见 A君B君夹角的余弦是0.81 ， A君C君夹角的余弦是 -0.97 ，公式诚不欺我也。<br>以上是三维(三首歌)的情况，如法炮制N维N首歌的情况都是一样的。<br>假设我们选取一百首种子歌曲，算出了各君之间的相似值，那么当我们发现A君还喜欢听的《小苹果》B君居然没听过，相信大家都知道该怎么和B君推荐了吧。</p>
<p>第一类以人为本推荐算法的好处我想已经很清楚了，那就是精准！<br><strong>代价是运算量很大</strong>，而且对于新来的人(听得少，动作少)，也不太好使，</p>
<p>所以人们又发明了第二类算法。</p>
<p>假设我们对新来的D君，只知道她喜欢最炫民族风，那么问题来了，给她推荐啥好咯？</p>
<p><img src="D:\华科\冰岩\新人任务3\f9b50aa7934b1bcebacb4e715d9f1190_b.jpg" alt="f9b50aa7934b1bcebacb4e715d9f1190_b.jpg"></p>
<p>如图，推荐《晴天》！</p>
<h5 id="还有一种算法"><a href="#还有一种算法" class="headerlink" title="还有一种算法"></a>还有一种算法</h5><p>该算法比较复杂，但是准确性很高，这里就不作具体的详细描述了，产品组有兴趣的小伙伴可以点击下面的链接到知乎查阅<br><a href="https://www.zhihu.com/question/26743347/answer/34714804" target="_blank" rel="noopener">潜在因子（Latent Factor）算法</a></p>
<h6 id="写在文后的话"><a href="#写在文后的话" class="headerlink" title="写在文后的话"></a>写在文后的话</h6><p>其实网易云音乐用的推荐算法不止能够用到音乐推荐上面，这套算法其实是商品推荐所用，有兴趣可以看一下，也可以挖掘一下他们的适用场景，对现有的行业现状的能做出如何的改变。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/cdb40ea2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/cdb40ea2.html" itemprop="url">未眠夜三更答田郎</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-01-27T00:00:00+08:00">
                2015-01-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/诗词-古风/" itemprop="url" rel="index">
                    <span itemprop="name">诗词 - 古风</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/cdb40ea2.html" class="leancloud_visitors" data-flag-title="未眠夜三更答田郎">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <p>##答诗</p>
<h3 id="其一"><a href="#其一" class="headerlink" title="其一"></a>其一</h3><p>天涯孤灯几处摇，<br>归雁声里忆吹箫。<br>余州当年春风夜，<br>茶盏新凉落棋敲。</p>
<h3 id="其二"><a href="#其二" class="headerlink" title="其二"></a>其二</h3><p>莫道无别恨，<br>田郎富诗书。<br>惯看鸿雁去，<br>秋风旧相熟。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/archives/cdb40ea2.html#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/d920fba2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/d920fba2.html" itemprop="url">祝酒歌</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-06-08T00:00:00+08:00">
                2014-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/诗词-古风/" itemprop="url" rel="index">
                    <span itemprop="name">诗词 - 古风</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/d920fba2.html" class="leancloud_visitors" data-flag-title="祝酒歌">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>拼君今日酒，</p>
<p>聊尽此生欢。</p>
<p>流光东逝水，</p>
<p>不带青颜还。<br><img src="http://i.imgur.com/nuxzyNN.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/4.8e+156.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/4.8e+156.html" itemprop="url">临别为友人赋</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-05-20T00:00:00+08:00">
                2014-05-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/诗词-古风/" itemprop="url" rel="index">
                    <span itemprop="name">诗词 - 古风</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/4.8e+156.html" class="leancloud_visitors" data-flag-title="临别为友人赋">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>人生飘飞絮，<br>几回系行舟。<br>垂柳引东路，<br>南风穿珠楼。<br>饮罢知三更，<br>还来话军侯。<br>那般明月好，<br>偏偏照离愁。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/archives/1d436430.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张浩然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Everyblue">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/archives/1d436430.html" itemprop="url">暗香</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-01-27T00:00:00+08:00">
                2014-01-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/诗词-词/" itemprop="url" rel="index">
                    <span itemprop="name">诗词 - 词</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/archives/1d436430.html" class="leancloud_visitors" data-flag-title="暗香">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>临江西顾，<br>望风波不定。<br>柳畔残香，<br>空了繁华尽凄楚。<br>莫笑愁丝未理，<br>便如此，<br>休来翻睹。<br>乱往事，<br>若细说来，<br>点字句全苦。</p>
<p>风蹙，<br>卷帘幕。<br>褪去旧薄衫，<br>满是尘土。<br>故园酒宿，<br>佳梦醒寻却无处。<br>纵把眉关攒破，<br>也无计，<br>留风得驻。<br>冷皓月，<br>空照影，<br>两行寒树。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="张浩然" />
            
              <p class="site-author-name" itemprop="name">张浩然</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/everyblue" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:793867515@qq.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Everyblue</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.3"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("ffQnoAGTqKwpqT5VdHqWMRce-gzGzoHsz", "x0OI7KdQd1plyBG1PHbfJ9IR");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
